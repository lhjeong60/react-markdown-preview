{
  "version": 3,
  "names": [
    "_react",
    "_interopRequireWildcard",
    "require",
    "_reactMarkdown",
    "_interopRequireDefault",
    "_remarkGfm",
    "_rehypeRaw",
    "_rehypeSlug",
    "_rehypeAutolinkHeadings",
    "_rehypeAttr",
    "_rehypeIgnore",
    "_rehypePrismPlus",
    "_rehypeRewrite",
    "_octiconLink",
    "_copy",
    "_useCopied",
    "_reservedMeta",
    "_jsxRuntime",
    "_excluded",
    "_default",
    "React",
    "forwardRef",
    "props",
    "ref",
    "_props$prefixCls",
    "prefixCls",
    "className",
    "source",
    "style",
    "_props$disableCopy",
    "disableCopy",
    "_props$skipHtml",
    "skipHtml",
    "onScroll",
    "onMouseOver",
    "pluginsFilter",
    "rewrite",
    "rehypeRewrite",
    "_props$wrapperElement",
    "wrapperElement",
    "_props$warpperElement",
    "warpperElement",
    "other",
    "_objectWithoutProperties2",
    "default",
    "mdp",
    "useRef",
    "useImperativeHandle",
    "_objectSpread2",
    "cls",
    "concat",
    "useCopied",
    "rehypeRewriteHandle",
    "node",
    "index",
    "parent",
    "type",
    "test",
    "tagName",
    "child",
    "children",
    "properties",
    "ariaHidden",
    "class",
    "octiconLink",
    "code",
    "getCodeString",
    "push",
    "copyElement",
    "rehypePlugins",
    "reservedMeta",
    "rehypePrism",
    "ignoreMissing",
    "slug",
    "headings",
    "rehypeIgnore",
    "rehypeAttrs",
    "_toConsumableArray2",
    "customProps",
    "allowElement",
    "element",
    "raw",
    "remarkPlugins",
    "gfm",
    "wrapperProps",
    "jsx",
    "exports",
    "module"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "import React, { useImperativeHandle } from 'react';\nimport ReactMarkdown, { Options } from 'react-markdown';\nimport { Element } from 'hast';\nimport { PluggableList } from 'unified';\nimport gfm from 'remark-gfm';\nimport raw from 'rehype-raw';\nimport slug from 'rehype-slug';\nimport headings from 'rehype-autolink-headings';\nimport rehypeAttrs from 'rehype-attr';\nimport rehypeIgnore from 'rehype-ignore';\nimport rehypePrism from 'rehype-prism-plus';\nimport rehypeRewrite, { getCodeString, RehypeRewriteOptions } from 'rehype-rewrite';\nimport { octiconLink } from './nodes/octiconLink';\nimport { copyElement } from './nodes/copy';\nimport { useCopied } from './plugins/useCopied';\nimport './styles/markdown.less';\n\nimport { reservedMeta } from './plugins/reservedMeta';\n\nexport interface MarkdownPreviewProps extends Omit<Options, 'children'> {\n  prefixCls?: string;\n  className?: string;\n  source?: string;\n  disableCopy?: boolean;\n  style?: React.CSSProperties;\n  pluginsFilter?: (type: 'rehype' | 'remark', plugin: PluggableList) => PluggableList;\n  wrapperElement?: React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> & {\n    'data-color-mode'?: 'light' | 'dark';\n  };\n  /**\n   * Please use wrapperElement, Will be removed in v5 release.\n   * @deprecated\n   */\n  warpperElement?: React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> & {\n    'data-color-mode'?: 'light' | 'dark';\n  };\n  onScroll?: (e: React.UIEvent<HTMLDivElement>) => void;\n  onMouseOver?: (e: React.MouseEvent<HTMLDivElement>) => void;\n  rehypeRewrite?: RehypeRewriteOptions['rewrite'];\n}\n\nexport interface MarkdownPreviewRef extends MarkdownPreviewProps {\n  mdp: React.RefObject<HTMLDivElement>;\n}\n\nexport default React.forwardRef<MarkdownPreviewRef, MarkdownPreviewProps>((props, ref) => {\n  const {\n    prefixCls = 'wmde-markdown wmde-markdown-color',\n    className,\n    source,\n    style,\n    disableCopy = false,\n    skipHtml = true,\n    onScroll,\n    onMouseOver,\n    pluginsFilter,\n    rehypeRewrite: rewrite,\n    wrapperElement = {},\n    warpperElement = {},\n    ...other\n  } = props;\n  const mdp = React.useRef<HTMLDivElement>(null);\n  useImperativeHandle(ref, () => ({ ...props, mdp }), [mdp, props]);\n  const cls = `${prefixCls || ''} ${className || ''}`;\n  useCopied(mdp);\n\n  const rehypeRewriteHandle: RehypeRewriteOptions['rewrite'] = (node, index, parent) => {\n    if (node.type === 'element' && parent && parent.type === 'root' && /h(1|2|3|4|5|6)/.test(node.tagName)) {\n      const child = node.children && (node.children[0] as Element);\n      if (child && child.properties && child.properties.ariaHidden === 'true') {\n        child.properties = { class: 'anchor', ...child.properties };\n        child.children = [octiconLink];\n      }\n    }\n    if (node.type === 'element' && node.tagName === 'pre' && !disableCopy) {\n      const code = getCodeString(node.children);\n      node.children.push(copyElement(code));\n    }\n    rewrite && rewrite(node, index, parent);\n  };\n\n  const rehypePlugins: PluggableList = [\n    reservedMeta,\n    [rehypePrism, { ignoreMissing: true }],\n    slug,\n    headings,\n    rehypeIgnore,\n    [rehypeRewrite, { rewrite: rehypeRewriteHandle }],\n    [rehypeAttrs, { properties: 'attr' }],\n    ...(other.rehypePlugins || []),\n  ];\n  const customProps: MarkdownPreviewProps = {\n    allowElement: (element, index, parent) => {\n      if (other.allowElement) {\n        return other.allowElement(element, index, parent);\n      }\n      return /^[A-Za-z0-9]+$/.test(element.tagName);\n    },\n  };\n  if (skipHtml) {\n    rehypePlugins.push(raw);\n  }\n  const remarkPlugins = [...(other.remarkPlugins || []), gfm];\n  const wrapperProps = { ...warpperElement, ...wrapperElement };\n  return (\n    <div ref={mdp} onScroll={onScroll} onMouseOver={onMouseOver} {...wrapperProps} className={cls} style={style}>\n      <ReactMarkdown\n        {...customProps}\n        {...other}\n        skipHtml={skipHtml}\n        rehypePlugins={pluginsFilter ? pluginsFilter('rehype', rehypePlugins) : rehypePlugins}\n        remarkPlugins={pluginsFilter ? pluginsFilter('remark', remarkPlugins) : remarkPlugins}\n        children={source || ''}\n      />\n    </div>\n  );\n});\n"
  ],
  "mappings": "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"
}